<!DOCTYPE html>
<html>
<head>
  <script src="jquery.js" ></script>
  <title>Digital Scoreboard with Timer</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
    }
    .scoreboard {
      display: inline-block;
      border: 2px solid #333;
      padding: 20px;
      margin: 20px;
    }
    .team-name {
      margin-bottom: 10px;
    }
    .points {
      font-size: 24px;
      margin-bottom: 20px;
    }
    .timer {
      font-size: 36px;
      margin-bottom: 20px;
    }
    .buttons {
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div class="scoreboard">
    <div class="team-name">
      <label for="team1">Team 1 Name:</label>
      <input type="text" id="team1Name" value="Team 1">
    </div>
    <div class="points">
      <span id="team1Points">0</span>
      <button onclick="addPoint('team1')">+</button>
      <button onclick="subtractPoint('team1')">-</button>
    </div>
  </div>

  <div class="scoreboard">
    <div class="team-name">
      <label for="team2">Team 2 Name:</label>
      <input type="text" id="team2Name" value="Team 2">
    </div>
    <div class="points">
      <span id="team2Points">0</span>
      <button onclick="addPoint('team2')">+</button>
      <button onclick="subtractPoint('team2')">-</button>
    </div>
  </div>

  <div class="timer" id="timer">03:00</div>
  <div>
    <label for="timeInput">Set Time (mm:ss):</label>
    <input type="text" id="timeInput" placeholder="mm:ss">
    <button onclick="setCustomTime()">Set</button>
  </div>

  <div class="buttons">
    <button onclick="startTimer()">Start</button>
    <button onclick="pauseTimer()">Pause</button>
    <button onclick="stopTimer()">Stop</button>
    <button onclick="updateScoreboard()">Update Scoreboard</button>
  </div>

  <script>
    let timerInterval;
    let timeLeft = 180;

    function updateTimer() {
      const minutes = Math.floor(timeLeft / 60);
      let seconds = timeLeft % 60;
      seconds = seconds < 10 ? `0${seconds}` : seconds;
      document.getElementById('timer').innerText = `${minutes}:${seconds}`;
	  updateScoreboard();
    }

    function startTimer() {
      timerInterval = setInterval(() => {
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          alert('Time is up!');
        } else {
          timeLeft--;
          updateTimer();
        }
      }, 1000);
    }

    function pauseTimer() {
      clearInterval(timerInterval);
    }

    function stopTimer() {
      clearInterval(timerInterval);
      timeLeft = 180;
      updateTimer();
    }

    function setCustomTime() {
      const timeInput = document.getElementById('timeInput').value;
      const [minutes, seconds] = timeInput.split(':').map(part => parseInt(part, 10));
      if (!isNaN(minutes) && !isNaN(seconds)) {
        timeLeft = minutes * 60 + seconds;
        updateTimer();
      } else {
        alert('Invalid time format! Please use mm:ss format.');
      }
    }

    function addPoint(team) {
      const pointsElement = document.getElementById(`${team}Points`);
      let points = parseInt(pointsElement.innerText, 10);
      points++;
      pointsElement.innerText = points;
      updateScoreboard();
    }

    function subtractPoint(team) {
      const pointsElement = document.getElementById(`${team}Points`);
      let points = parseInt(pointsElement.innerText, 10);
      if (points > 0) {
        points--;
        pointsElement.innerText = points;
        updateScoreboard();
      }
    }

    function updateScoreboard() {
      localStorage.setItem('team1Name', document.getElementById('team1Name').value);
	  console.log(localStorage.getItem('team1Name'));
      localStorage.setItem('team1Points', document.getElementById('team1Points').innerText);
      localStorage.setItem('team2Name', document.getElementById('team2Name').value);
      localStorage.setItem('team2Points', document.getElementById('team2Points').innerText);
      localStorage.setItem('timer', document.getElementById('timer').innerText);
	}

    updateScoreboard();
  </script>
</body>
</html>
